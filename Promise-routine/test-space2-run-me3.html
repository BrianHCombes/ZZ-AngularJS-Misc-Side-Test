<!DOCTYPE html>
<html>
<body>

  <h2>JavaScript Promise using a promise object <span style="font-size:1.25em; color:blue;"><b>with</b></span> async/await</h2>
  
  <div>
    <a  href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" 
        target="_blank">
        https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function
    </a>
  </div>  

<p id="demo1"></p>

<p id="demo2"></p>

<p id="demo3"></p>

<p id="demo4">From Day One</p>


<script>
async function getFile() {

    let myAsyncAwait1 = await testCallBack1();
    document.getElementById("demo1").innerHTML = "Async Await architecture: " + myAsyncAwait1;
    
    let myAsyncAwait2 = await testCallBack2();
    document.getElementById("demo2").innerHTML = "Async Await architecture: " + myAsyncAwait2;
    
    var delayedStuff = function(myAsyncAwait3){
        document.getElementById("demo3").innerHTML = "This is standard callback architecture with setTimeout delaying data return. " + myAsyncAwait3;
    }
    testCallBack3(delayedStuff);
    
    
    document.getElementById("demo4").innerHTML = "Another Day";
}
getFile();


function testCallBack1(){
    return new Promise(resolve => {
      console.log("calling");
      setTimeout(() => {
        resolve('Using async await - This should be first with async await or last <span style="color:blue;"<u>without</u></span> async await!');
      }, 1500);
    });  
}

function testCallBack2(){
    return new Promise(resolve => {
      console.log("calling");
      setTimeout(() => {
        resolve('Using async await - Should be last with async await - Should be first without async await!');
      }, 750);
    });  
}


var testCallBack3 = function(delayedStuffRef){
   
      var value = "WTF";
      setTimeout(func1, 2750);
      console.log("value is: " + value);
      var value1 = "WTF";
      function func1(){
        console.log("value1 from setTimeout is: " + value1);    
        delayedStuffRef(value1);
      };
}







</script>

</body>
</html>
